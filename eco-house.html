<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üè° Eco-House Designer | KijaniHub</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --solar-yellow: #f1c40f;
            --water-blue: #3498db;
            --garden-green: #2ecc71;
            --light-bg: #f9f9f9;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Comic Neue', cursive;
            background-color: var(--light-bg);
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        h1 {
            font-family: 'Fredoka One', cursive;
            color: #2e8b57;
            margin-bottom: 0.5rem;
        }
        
        .game-container {
            max-width: 900px;
            margin: 0 auto;
            background-color: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1.5rem;
            padding: 1rem;
            background-color: #f0f7f0;
            border-radius: 10px;
        }
        
        .stat {
            text-align: center;
            flex: 1;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #2e8b57;
        }
        
        .stat-label {
            font-size: 0.8rem;
            color: #666;
        }
        
        .house-area {
            display: flex;
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .house-display {
            flex: 2;
            height: 400px;
            background-color: #f5f5f5;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            background-image: url('https://cdn-icons-png.flaticon.com/512/2553/2553628.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }
        
        .eco-feature {
            position: absolute;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            cursor: pointer;
            transition: all 0.3s;
            z-index: 1;
        }
        
        .eco-feature:hover {
            transform: scale(1.1);
        }
        
        .solar-panel {
            width: 100px;
            height: 50px;
            background-image: url('https://cdn-icons-png.flaticon.com/512/3081/3081984.png');
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .rain-barrel {
            width: 60px;
            height: 80px;
            background-image: url('https://cdn-icons-png.flaticon.com/512/3081/3081986.png');
            bottom: 50px;
            left: 30px;
        }
        
        .garden {
            width: 150px;
            height: 100px;
            background-image: url('https://cdn-icons-png.flaticon.com/512/3082/3082388.png');
            bottom: 20px;
            right: 30px;
        }
        
        .compost {
            width: 70px;
            height: 70px;
            background-image: url('https://cdn-icons-png.flaticon.com/512/3082/3082389.png');
            bottom: 20px;
            left: 120px;
        }
        
        .insulation {
            width: 200px;
            height: 30px;
            background-image: url('https://cdn-icons-png.flaticon.com/512/3081/3081985.png');
            top: 150px;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0.7;
        }
        
        .feature-options {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .feature-btn {
            padding: 1rem;
            border: none;
            border-radius: 10px;
            background-color: #ecf0f1;
            font-family: 'Comic Neue', cursive;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 1rem;
            font-size: 1rem;
        }
        
        .feature-btn:hover {
            background-color: #d5dbdb;
        }
        
        .feature-btn:active {
            transform: scale(0.98);
        }
        
        .feature-icon {
            font-size: 1.5rem;
        }
        
        .feature-btn.solar { color: var(--solar-yellow); }
        .feature-btn.water { color: var(--water-blue); }
        .feature-btn.garden { color: var(--garden-green); }
        .feature-btn.compost { color: #8e44ad; }
        .feature-btn.insulation { color: #e67e22; }
        
        .impact-meter {
            width: 100%;
            height: 20px;
            background-color: #ecf0f1;
            border-radius: 10px;
            margin: 1rem 0;
            overflow: hidden;
        }
        
        .impact-bar {
            height: 100%;
            background: linear-gradient(90deg, #2ecc71, #3498db, #f1c40f);
            width: 0%;
            transition: width 0.5s;
        }
        
        .impact-stats {
            display: flex;
            justify-content: space-around;
            margin-top: 1rem;
        }
        
        .impact-stat {
            text-align: center;
        }
        
        .impact-value {
            font-size: 1.2rem;
            font-weight: bold;
            color: #2e8b57;
        }
        
        .impact-label {
            font-size: 0.8rem;
            color: #666;
        }
        
        .feedback {
            text-align: center;
            min-height: 2rem;
            margin: 1rem 0;
            font-weight: bold;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1.5rem;
        }
        
        button {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 50px;
            background-color: #2e8b57;
            color: white;
            font-family: 'Comic Neue', cursive;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        button:hover {
            background-color: #3cb371;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
        
        .tutorial {
            background-color: #f8f9fa;
            padding: 1.5rem;
            border-radius: 10px;
            margin-top: 2rem;
            border-left: 5px solid #2e8b57;
        }
        
        .tutorial h3 {
            margin-bottom: 0.5rem;
            color: #2e8b57;
        }
        
        .tutorial ul {
            padding-left: 1.5rem;
        }
        
        .tutorial li {
            margin-bottom: 0.5rem;
        }
        
        @media (max-width: 768px) {
            .house-area {
                flex-direction: column;
            }
            
            .house-display {
                height: 300px;
            }
            
            .stat-value {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>üè° Eco-House Designer</h1>
        <p>Build your dream sustainable home with green features!</p>
    </header>
    
    <div class="game-container">
        <div class="stats">
            <div class="stat">
                <div class="stat-value" id="features-added">0</div>
                <div class="stat-label">Features Added</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="energy-saved">0</div>
                <div class="stat-label">Energy Saved (kWh)</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="water-saved">0</div>
                <div class="stat-label">Water Saved (gal)</div>
            </div>
        </div>
        
        <div class="impact-meter">
            <div class="impact-bar" id="impact-bar" style="width: 0%;"></div>
        </div>
        
        <div class="impact-stats">
            <div class="impact-stat">
                <div class="impact-value" id="co2-reduced">0</div>
                <div class="impact-label">CO‚ÇÇ Reduced (lbs)</div>
            </div>
            <div class="impact-stat">
                <div class="impact-value" id="money-saved">$0</div>
                <div class="impact-label">Money Saved/year</div>
            </div>
            <div class="impact-stat">
                <div class="impact-value" id="eco-score">0%</div>
                <div class="impact-label">Eco Score</div>
            </div>
        </div>
        
        <div class="feedback" id="feedback">
            Add eco-friendly features to your house from the options below!
        </div>
        
        <div class="house-area">
            <div class="house-display" id="house-display">
                <!-- Eco features will be added here -->
            </div>
            
            <div class="feature-options">
                <button class="feature-btn solar" id="solar-btn">
                    <span class="feature-icon">‚òÄÔ∏è</span>
                    <span>Solar Panels (+500 kWh/year)</span>
                </button>
                <button class="feature-btn water" id="rain-btn">
                    <span class="feature-icon">üåßÔ∏è</span>
                    <span>Rain Barrel (+300 gal water)</span>
                </button>
                <button class="feature-btn garden" id="garden-btn">
                    <span class="feature-icon">üå±</span>
                    <span>Vegetable Garden (+50 lbs CO‚ÇÇ)</span>
                </button>
                <button class="feature-btn compost" id="compost-btn">
                    <span class="feature-icon">‚ôªÔ∏è</span>
                    <span>Compost Bin (+30 lbs waste)</span>
                </button>
                <button class="feature-btn insulation" id="insulation-btn">
                    <span class="feature-icon">üß±</span>
                    <span>Extra Insulation (+200 kWh)</span>
                </button>
            </div>
        </div>
        
        <div class="controls">
            <button id="save-btn">Save Design</button>
            <button id="reset-btn">Start Over</button>
        </div>
        
        <div class="tutorial">
            <h3>Eco Home Features:</h3>
            <ul>
                <li><strong>Solar Panels:</strong> Generate clean electricity from sunlight</li>
                <li><strong>Rain Barrels:</strong> Collect rainwater for gardens and lawns</li>
                <li><strong>Vegetable Gardens:</strong> Grow your own food locally</li>
                <li><strong>Compost Bins:</strong> Turn food waste into nutrient-rich soil</li>
                <li><strong>Insulation:</strong> Reduces heating and cooling needs</li>
            </ul>
        </div>
    </div>

    <script>
        // Game data
        const features = [
            {
                id: "solar",
                name: "Solar Panels",
                icon: "‚òÄÔ∏è",
                className: "solar-panel",
                energy: 500,
                water: 0,
                co2: 100,
                waste: 0,
                cost: 50
            },
            {
                id: "rain",
                name: "Rain Barrel",
                icon: "üåßÔ∏è",
                className: "rain-barrel",
                energy: 0,
                water: 300,
                co2: 20,
                waste: 0,
                cost: 30
            },
            {
                id: "garden",
                name: "Vegetable Garden",
                icon: "üå±",
                className: "garden",
                energy: 0,
                water: -50, // Uses water but provides other benefits
                co2: 50,
                waste: 0,
                cost: 20
            },
            {
                id: "compost",
                name: "Compost Bin",
                icon: "‚ôªÔ∏è",
                className: "compost",
                energy: 0,
                water: 0,
                co2: 30,
                waste: 30,
                cost: 10
            },
            {
                id: "insulation",
                name: "Extra Insulation",
                icon: "üß±",
                className: "insulation",
                energy: 200,
                water: 0,
                co2: 80,
                waste: 0,
                cost: 40
            }
        ];
        
        // Game state
        let addedFeatures = [];
        let featuresAdded = 0;
        let energySaved = 0;
        let waterSaved = 0;
        let co2Reduced = 0;
        let wasteReduced = 0;
        let moneySaved = 0;
        
        // DOM elements
        const houseDisplay = document.getElementById('house-display');
        const featuresAddedDisplay = document.getElementById('features-added');
        const energySavedDisplay = document.getElementById('energy-saved');
        const waterSavedDisplay = document.getElementById('water-saved');
        const co2ReducedDisplay = document.getElementById('co2-reduced');
        const wasteReducedDisplay = document.getElementById('impact-value'); // Note: This needs fixing
        const moneySavedDisplay = document.getElementById('money-saved');
        const ecoScoreDisplay = document.getElementById('eco-score');
        const impactBar = document.getElementById('impact-bar');
        const feedbackDisplay = document.getElementById('feedback');
        const featureBtns = {
            solar: document.getElementById('solar-btn'),
            rain: document.getElementById('rain-btn'),
            garden: document.getElementById('garden-btn'),
            compost: document.getElementById('compost-btn'),
            insulation: document.getElementById('insulation-btn')
        };
        const saveBtn = document.getElementById('save-btn');
        const resetBtn = document.getElementById('reset-btn');
        
        // Initialize game
        function initGame() {
            addedFeatures = [];
            featuresAdded = 0;
            energySaved = 0;
            waterSaved = 0;
            co2Reduced = 0;
            wasteReduced = 0;
            moneySaved = 0;
            
            featuresAddedDisplay.textContent = featuresAdded;
            energySavedDisplay.textContent = energySaved;
            waterSavedDisplay.textContent = waterSaved;
            co2ReducedDisplay.textContent = co2Reduced;
            moneySavedDisplay.textContent = `$${moneySaved}`;
            ecoScoreDisplay.textContent = '0%';
            impactBar.style.width = '0%';
            
            houseDisplay.innerHTML = '';
            feedbackDisplay.textContent = 'Add eco-friendly features to your house from the options below!';
            
            // Enable all feature buttons
            Object.values(featureBtns).forEach(btn => {
                btn.disabled = false;
                btn.style.opacity = '1';
            });
        }
        
        // Add feature to house
        function addFeature(featureId) {
            // Check if feature already added
            if (addedFeatures.includes(featureId)) {
                feedbackDisplay.textContent = `You've already added ${getFeatureName(featureId)} to your house!`;
                return;
            }
            
            const feature = features.find(f => f.id === featureId);
            if (!feature) return;
            
            // Create feature element
            const featureEl = document.createElement('div');
            featureEl.className = `eco-feature ${feature.className}`;
            featureEl.dataset.id = featureId;
            featureEl.title = `${feature.name} (Saves: ${feature.energy}kWh energy, ${feature.water}gal water)`;
            
            houseDisplay.appendChild(featureEl);
            addedFeatures.push(featureId);
            
            // Update stats
            featuresAdded++;
            energySaved += feature.energy;
            waterSaved += feature.water;
            co2Reduced += feature.co2;
            wasteReduced += feature.waste;
            moneySaved += feature.cost;
            
            featuresAddedDisplay.textContent = featuresAdded;
            energySavedDisplay.textContent = energySaved;
            waterSavedDisplay.textContent = waterSaved;
            co2ReducedDisplay.textContent = co2Reduced;
            moneySavedDisplay.textContent = `$${moneySaved}`;
            
            // Calculate eco score (percentage of possible features)
            const ecoScore = Math.round((addedFeatures.length / features.length) * 100);
            ecoScoreDisplay.textContent = `${ecoScore}%`;
            
            // Update impact bar
            const impactPercent = Math.min(ecoScore * 1.5, 100);
            impactBar.style.width = `${impactPercent}%`;
            
            // Disable the button for this feature
            featureBtns[featureId].disabled = true;
            featureBtns[featureId].style.opacity = '0.5';
            
            // Show feedback
            feedbackDisplay.textContent = `Added ${feature.name} to your house! ${getFeatureFact(featureId)}`;
            
            // Update global stats
            updateGlobalStats();
        }
        
        // Save design
        function saveDesign() {
            if (addedFeatures.length === 0) {
                feedbackDisplay.textContent = 'Add some eco features before saving!';
                return;
            }
            
            const ecoPercentage = Math.round((addedFeatures.length / features.length) * 100);
            let feedback = `Your eco-house design with ${featuresAdded} features saved! `;
            
            if (ecoPercentage >= 80) {
                feedback += "Perfect sustainable home! üåø";
                feedbackDisplay.className = 'feedback good';
            } else if (ecoPercentage >= 50) {
                feedback += "Good green home! Add more features next time.";
                feedbackDisplay.className = 'feedback';
            } else {
                feedback += "Nice start! Try adding more eco features.";
                feedbackDisplay.className = 'feedback';
            }
            
            feedbackDisplay.textContent = feedback;
        }
        
        // Helper functions
        function getFeatureName(featureId) {
            const feature = features.find(f => f.id === featureId);
            return feature ? feature.name : '';
        }
        
        function getFeatureFact(featureId) {
            const facts = {
                "solar": "Solar panels can power your home with clean energy for decades!",
                "rain": "Rain barrels help conserve water and reduce runoff pollution.",
                "garden": "Home gardens provide fresh food and reduce transportation emissions.",
                "compost": "Composting reduces landfill waste and creates great soil.",
                "insulation": "Good insulation saves energy year-round."
            };
            return facts[featureId] || "";
        }
        
        // Update global stats
        function updateGlobalStats() {
            // Update games played
            let gamesPlayed = parseInt(localStorage.getItem('gamesPlayed')) || 0;
            gamesPlayed++;
            localStorage.setItem('gamesPlayed', gamesPlayed);
            
            // Calculate trees planted based on CO2 reduced (1 tree per 50 lbs)
            let treesPlanted = parseInt(localStorage.getItem('treesPlanted')) || 0;
            treesPlanted += Math.floor(co2Reduced / 50);
            localStorage.setItem('treesPlanted', treesPlanted);
            
            // Calculate CO2 saved (already tracked in co2Reduced)
            let co2Saved = parseInt(localStorage.getItem('co2Saved')) || 0;
            co2Saved += co2Reduced;
            localStorage.setItem('co2Saved', co2Saved);
        }
        
        // Event listeners
        Object.keys(featureBtns).forEach(featureId => {
            featureBtns[featureId].addEventListener('click', () => addFeature(featureId));
        });
        
        saveBtn.addEventListener('click', saveDesign);
        resetBtn.addEventListener('click', initGame);
        
        // Initialize the game
        initGame();
    </script>
</body>
</html>